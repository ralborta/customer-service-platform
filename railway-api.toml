# Railway config for API service
# Use this when deploying the API service

[build]
builder = "NIXPACKS"
buildCommand = "pnpm install && pnpm --filter @customer-service/shared build && pnpm --filter @customer-service/db build && pnpm --filter @customer-service/api build"

[deploy]
startCommand = "cd apps/api && DB_INIT=true pnpm start"
healthcheckPath = "/health"
healthcheckTimeout = 100
