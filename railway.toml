# Railway configuration for monorepo
# Railway will detect services automatically from the apps/ directory
# Each service should be deployed separately

[build]
builder = "NIXPACKS"
buildCommand = "pnpm install --frozen-lockfile && rm -rf node_modules/.cache packages/shared/dist packages/db/dist apps/api/dist && pnpm --filter @customer-service/shared build && pnpm --filter @customer-service/db build && pnpm --filter @customer-service/api build"

[deploy]
startCommand = "pnpm --filter @customer-service/api start"
